# Apress-Gists

Приложение представляет собой средство для создания заметок к фрагментам программного кода,
размещаемого на платформе Github.com.

Приложение работает на Android начиная с **5.0**.

Приложение построено на архитектуре MVP и имеет следующие ключевые зависимости:

- rxjava 2
- dagger 2
- room 1
- picasso 2
- butterknife 8

# Список экранов

- All gists – фрагменты кода
- Gist – предоставляет возможность редактирования описания и заметки к фрагменту кода
- Notes – список фрагментов кода, содержащих заметки
- All in One – экран с двумя вкладками: All gists и Notes.

# Логика работы

При открытии списка All gists сначала выполняется запрос в базу данных, в случае если
ответ пустой выполняется запрос к серверу, парсинг ответа и сохранение объектов в локальную базу данных.
Таким образом, база данных имеет приоритет над ответом сервера.

Список фрагментов кода реализует двунаправленную подгрузку с обновлением элементов.
Презентор экрана All gists держит подписку на события обновления содержимого базы данных.
Эта подписка меняется в зависимости от действий пользователям, но канал обновлений всегда один.
При прокрутке списка вниз выполняется запрос следующей страницы – предыдущая подписка отменяется но общая логика
работы сохраняется. Аналогично реализована прокрутка вверх и загрузка предыдущей страницы.

В случае изменения описания или заметки к фрагменту кода на экране Gist,
событие обновления БД будет разослано всем подписчикам.